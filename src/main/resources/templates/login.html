<!DOCTYPE html>
<html lang="en">
<head th:replace="~{fragments::boots_trap}">
    <meta charset="UTF-8">
    <title>User Login</title>
</head>

<body class="d-flex flex-column">
<div th:replace="~{fragments :: nav_bar}"></div>
<br/><br/><br/>

<div class="container">
    <div class="row col-md-8 offset-md-2">
        <div class="row mt-4">
            <div th:if="${param.error}" class="col-sm-8">
                <p class="alert alert-danger alert-dismissible fade show" role="alert">Invalid username or password</p>
            </div>

            <div th:if="${param.reset_success}" class="col-sm-8">
                <p class="alert alert-info alert-dismissible fade show" role="alert">You have successfully reset your
                    password, please log in here.</p>
            </div>

            <div th:if="${param.verified}" class="col-sm-8">
                <p class="alert alert-info alert-dismissible fade show" role="alert">This account has already been
                    verified, please log in here.</p>
            </div>
            <div th:if="${param.valid}" class="col-sm-8">
                <p class="alert alert-info alert-dismissible">Email verified successfully, please log in here.</p>
            </div>

            <!-- show logout warning alert when logged out. -->
            <div th:if="${param.logout}" class="col-sm-8">
                <p class="alert alert-warning">You have been logged out.</p>
            </div>
        </div>
        <div class="card">
            <div class="card-header">
                <h2 class="text-center">Log in</h2>
            </div>
            <div class="card-body">
                <form th:id="formAction"
                      th:method="post"
                      th:role="form"
                      th:action="@{/login}"
                      th:object="${user}"
                >
                    <div class="form-floating mb-3">

                        <div class="form-floating mb-3">
                            <input type="email" class="form-control" id="username"
                                   th:name="username" required name="username" autofocus="autofocus"
                                   placeholder="name@example.com"/>
                            <label for="username">Email</label>
                        </div>
                        <div class="form-floating mb-3">
                            <input type="password" class="form-control" id="password"
                                   required name="password" autofocus="autofocus" th:name="password"
                                   placeholder="Password"/>
                            <label for="password">Password</label>
                        </div>
                        <p><label>
                            <input type="checkbox" name="remember-me"/>
                        </label>&nbsp;Remember Me </p>
                        <div class="form-floating mb-3">
                            <button class="btn btn-success" type="submit" name="login" id="login">Login</button>
                            <span>Not registered? <a th:href="@{/register/register}">Register here</a></span>
                            <div class="vr"></div>
                            <span><a href="/"
                                     th:href="@{/register/forgot-password-request}">Forgot password.</a> </span>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- Footer-->
<footer class="bg-dark py-4 mt-auto">
    <div class="container px-5">
        <div class="row align-items-center justify-content-between flex-column flex-sm-row">
            <div class="col-auto">
                <div class="small m-0 text-white">Copyright &copy; DISGS LLC | Dig-it.com 2024</div>
            </div>
            <div class="col-auto">
                <a class="link-light small" href="#!">Privacy</a>
                <span class="text-white mx-1">&middot;</span>
                <a class="link-light small" href="#!">Terms</a>
                <span class="text-white mx-1">&middot;</span>
                <a class="link-light small" href="#!">Contact</a>
            </div>
        </div>
    </div>
</footer>
<!-- Bootstrap core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Core theme JS-->
<script src="/static/js/scripts.js"></script>
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
<!-- * *                               SB Forms JS                               * *-->
<!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
<script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
</body>
</html>
